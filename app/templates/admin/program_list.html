{% extends "base.html" %} {% block content %}
<div class="row g-4">
  <div class="col-md-8">
    <h4 class="fw-bold mb-3">Daftar Program Studi</h4>
    <div class="card shadow-sm border-0">
      <div class="card-body p-0">
        <table class="table table-custom table-hover align-middle mb-0">
          <thead>
            <tr>
              <th class="ps-4">Nama Program</th>
              <th>Total Sesi</th>
              <th>Tipe</th>
              <th class="text-end pe-4">Aksi</th>
            </tr>
          </thead>
          <tbody>
            {% for prog in programs %}
            <tr>
              <td class="ps-4 fw-bold">{{ prog.name }}</td>
              <td>{{ prog.total_sessions }} Sesi</td>
              <td>
                {% if prog.is_batch_based %}
                <span class="badge bg-soft-warning text-dark">Batch Based</span>
                {% else %}
                <span class="badge bg-soft-success text-success">Rolling</span>
                {% endif %}
              </td>
              <td class="text-end pe-4">
                <a
                  href="{{ url_for('admin.program_edit', prog_id=prog.id) }}"
                  class="btn btn-sm btn-outline-dark rounded-pill"
                  >Edit</a
                >
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="col-md-4">
    <h4 class="fw-bold mb-3">Tambah Program</h4>
    <div class="card shadow-sm border-0 border-top border-success border-4">
      <div class="card-body p-4">
        <form method="POST">
          <div class="mb-3">
            <label class="form-label small fw-bold">Nama Program</label>
            <input
              type="text"
              name="name"
              class="form-control bg-light border-0"
              required
            />
          </div>
          <div class="mb-3">
            <label class="form-label small fw-bold">Total Sesi</label>
            <input
              type="number"
              name="total_sessions"
              class="form-control bg-light border-0"
              required
              value="12"
            />
          </div>
          <div class="form-check form-switch mb-4">
            <input
              class="form-check-input"
              type="checkbox"
              name="is_batch_based"
              id="isBatch"
            />
            <label class="form-check-label small fw-bold" for="isBatch"
              >Sistem Batch (Fast Track)?</label
            >
          </div>
          <div class="mb-4">
            <label class="form-label small fw-bold mb-2">Pilih Materi:</label>
            <div class="card bg-light border-0 p-3">
              {% for sub in subjects %}
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  name="subjects"
                  value="{{ sub.id }}"
                  id="s_{{sub.id}}"
                />
                <label class="form-check-label" for="s_{{sub.id}}"
                  >{{ sub.name }}</label
                >
              </div>
              {% endfor %}
            </div>
          </div>
          <button type="submit" class="btn btn-success w-100 fw-bold">
            Simpan Program
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
